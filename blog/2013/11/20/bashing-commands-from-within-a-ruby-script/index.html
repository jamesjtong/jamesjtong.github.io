
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>BASHing Commands From Within a Ruby Script - My Octopress Blog</title>
  <meta name="author" content="James Tong">

  
  <meta name="description" content="Recently, I wanted to create a blackjack program that incorporates a real life blackjack card-counting situation. It needed to be realistic so it &hellip;">
  <meta name="keywords" content="bash, ruby, blackjack, clear, command line">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://jamesjtong.github.io/blog/2013/11/20/bashing-commands-from-within-a-ruby-script">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="My Octopress Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href='//fonts.googleapis.com/css?family=Sintony' rel='stylesheet' type='text/css'>
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-44809833-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body    class="collapse-sidebar sidebar-footer" >
  <nav role="navigation">
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:jamesjtong.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Type to Search"/>
  </fieldset>
</form>
  

<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <header role="banner"><div class='hero'>
	<div class='wrap'>
	  <h1><a href="/">My Octopress Blog</a></h1>
	  
	    <h2>A blogging framework for hackers.</h2>
	  
	</div>
</div>

</header>
  
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">BASHing Commands From Within a Ruby Script</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-11-20T10:21:00-05:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Recently, I wanted to create a blackjack program that incorporates a real life blackjack card-counting situation. It needed to be realistic so it would need a pause. Additionally, I wanted it to clear the screen every once in a while so that the user won&rsquo;t be overwhelmed with the heavy text from previous rounds. I realized that some of the bash commands would be an instant remedy to my problems. Then, I wondered what is the best way to incorporate these bash commands in my script. The 3 ways that I know are using</p>

<p>1) Using system<br/>
    system(&lsquo;ls&rsquo;)</p>

<p>2) Using backticks <code>  
   </code>ls`</p>

<p>3) Using built in syntax %x()<br/>
 NOTE: that for x you can replace it with any character; it just acts as a delimiter<br/>
     %x(ls)</p>

<p>There are subtle differences between these 3. The most important difference is regarding there return values. System returns true or false depending on if the command was able to be executed, while the other 2 return the result of the backtick command. This is an extremely important distinction as my &lsquo;clear&rsquo; command in my blackjack game would not work with backticks or the built in syntax. This is because clear needs tooutputs ANSI sequences to clear the screen; if I just returned clear (using backticks or the build in syntax), my screen would not get cleared.If I wanted it to be executed correctly, I would need to do a system(&lsquo;clear&rsquo;); the other 2 ways of bashing commands wouldn&rsquo;t work.</p>

<p>An actual code snippet from my Counting Cards Blackjack Game, utilizing BASHing within a Ruby Script:</p>

<pre><code>def dealer_hits_until_17
  @new_hand = false
  while hand_score(@dealer_hand) &lt; 17 &amp;&amp; @new_hand == false
    puts "Dealer Hits! His hand is now #{@dealer_hand}"
    system('clear')
    hit(@dealer_hand)
    `sleep 1`
  end
  if @new_hand == false
    compare_hand_value
  end
end
</code></pre>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">James Tong</span></span>

      








  


<time datetime="2013-11-20T10:21:00-05:00" pubdate data-updated="true"></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/bash/'>bash</a>, <a class='category' href='/blog/categories/blackjack/'>blackjack</a>, <a class='category' href='/blog/categories/ruby/'>ruby</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://jamesjtong.github.io/blog/2013/11/20/bashing-commands-from-within-a-ruby-script/" data-via="" data-counturl="http://jamesjtong.github.io/blog/2013/11/20/bashing-commands-from-within-a-ruby-script/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/10/10/pry-irbs-younger-brother/" title="Previous Post: Pry - IRB's Smarter Younger Brother">&laquo; Pry - IRB&#8217;s Smarter Younger Brother</a>
      
      
        <a class="basic-alignment right" href="/blog/2014/02/17/what-the-rest-rest-in-pieces/" title="Next Post: What the "REST"? REST in Pieces ">What the &#8220;REST&#8221;? REST in Pieces  &raquo;</a>
      
    </p>
  </footer>
</article>

</div>
<!-- 
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/02/17/what-the-rest-rest-in-pieces/">What the &#8220;REST&#8221;? REST in Pieces</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/20/bashing-commands-from-within-a-ruby-script/">BASHing Commands From Within a Ruby Script</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/10/pry-irbs-younger-brother/">Pry - IRB&#8217;s Smarter Younger Brother</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/09/20/resources-to-learn-ruby-slash-rails-programming-from-scratch/">Resources to Learn Ruby/Rails Programming From Scratch</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/09/11/start-of-my-blog/">Start of My Blog</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/jamesjtong">@jamesjtong</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'jamesjtong',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>
 &#8211;>

    </div>
  </div>
  <!-- <footer role="contentinfo"><p>
  Copyright &copy; 2014 - James Tong -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>



</footer> &#8211;>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





  
  <aside class="sidebar">
    
      <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/02/17/what-the-rest-rest-in-pieces/">What the &#8220;REST&#8221;? REST in Pieces</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/20/bashing-commands-from-within-a-ruby-script/">BASHing Commands From Within a Ruby Script</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/10/pry-irbs-younger-brother/">Pry - IRB&#8217;s Smarter Younger Brother</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/09/20/resources-to-learn-ruby-slash-rails-programming-from-scratch/">Resources to Learn Ruby/Rails Programming From Scratch</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/09/11/start-of-my-blog/">Start of My Blog</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/jamesjtong">@jamesjtong</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'jamesjtong',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





    
  </aside>
  
</body>


</html>
